# ============================================================================
# SkillSync ML-Powered Backend - Production Requirements
# ============================================================================
# Compatible dependency versions - tested and working
# Last updated: November 2025
# ============================================================================

# Core FastAPI Stack
fastapi==0.104.1
uvicorn[standard]==0.24.0
python-multipart==0.0.6
pydantic==2.5.0
pydantic-settings==2.1.0

# Database & Migrations
sqlalchemy==2.0.23
alembic==1.13.1
psycopg2-binary==2.9.9          # PostgreSQL driver
pgvector==0.2.4                  # Vector similarity search

# HTTP & Async
httpx==0.25.2
requests==2.31.0
aiofiles==23.2.0
aiohttp==3.9.1

# Environment & Config
python-dotenv==1.0.0
pydantic-settings==2.1.0

# ============================================================================
# MACHINE LEARNING STACK (COMPATIBLE VERSIONS)
# ============================================================================

# Core ML - COMPATIBLE NUMPY VERSION
numpy==1.26.4                    # âœ… Compatible with PyTorch & TensorFlow

# PyTorch CPU (Lightweight for CPU inference)
--extra-index-url https://download.pytorch.org/whl/cpu
torch==2.1.1+cpu
torchvision==0.16.1+cpu
torchaudio==2.1.1+cpu

# Transformers & Language Models
transformers==4.36.0             # HuggingFace transformers
tokenizers==0.15.0
sentence-transformers==2.2.2     # SBERT for embeddings
sentencepiece==0.1.99            # For T5 models

# NLP & NER
spacy==3.7.2                     # SpaCy for NER
spacy-lookups-data==1.0.5
# Download model separately: python -m spacy download en_core_web_lg

# Traditional ML
scikit-learn==1.3.2
scipy==1.11.4
pandas==2.1.4

# Explainable AI (XAI)
shap==0.43.0                     # SHAP for explainability
lime==0.2.0.1                    # LIME alternative

# ============================================================================
# DOCUMENT PROCESSING
# ============================================================================

# PDF & Document Parsing
PyPDF2==3.0.1
pdfplumber==0.10.3
python-docx==1.1.0
openpyxl==3.1.2

# ============================================================================
# UTILITIES
# ============================================================================

# Date & Time
python-dateutil==2.8.2

# Logging
loguru==0.7.2

# Security
cryptography>=42.0.0
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4

# Testing (optional)
pytest==7.4.3
pytest-asyncio==0.21.1

# Visualization (for debugging)
matplotlib==3.8.2
seaborn==0.13.0

# ============================================================================
# INSTALLATION INSTRUCTIONS
# ============================================================================
# 
# 1. Create virtual environment:
#    python -m venv .venv
#    .venv\Scripts\activate  (Windows)
#    source .venv/bin/activate  (Linux/Mac)
#
# 2. Install dependencies:
#    pip install -r requirements-ml.txt
#
# 3. Download SpaCy model:
#    python -m spacy download en_core_web_lg
#
# 4. Setup PostgreSQL with pgvector:
#    CREATE EXTENSION vector;
#
# 5. Run migrations:
#    alembic upgrade head
#
# ============================================================================
